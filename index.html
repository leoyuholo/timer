<!DOCTYPE html><html><head><meta charset=utf-8><meta name=Description content="Count up/down timer with minimalistic apperance"><meta name=author content="Leo Yu Ho, Lo <leoyuholo@gmail.com>"><meta name=keywords content="timer, count up, count down, minimalistic, web"><meta name=viewport content="width=device-width, user-scalable=no"><meta name=google-site-verification content=61jO64fyWWaLmqSBJY4dNI-BShZyM34Zzxct6B6XCfY /><title>Timer</title><style type=text/css>html{height:100%}body{color:#999;margin:0 auto;display:table;max-width:90%;min-width:35em;height:100%}@media(max-width:600px){body{width:90%;min-width:0}}#now{font-size:1em;padding:.6em 0}#now>div{display:inline}#timer{color:#000;font-family:arial,sans-serif;padding:.6em 0}#timer>.timer,#timer>.error{font-size:3em;margin-right:.2em}#timer>div{display:inline}.error>div{display:inline}#remarks{text-align:right;font-size:1em;padding:1em 0 1em}#remarks>div{display:block}#remarks>div>div{display:inline}#footer>p{font-weight:bold}.subarea{opacity:.3}body:hover>.subarea{opacity:1}.timer,.hash{font-weight:bold}.datetime{font-style:italic}.alarm{background-color:#000}.alarm>#timer{color:#999}.alarm>.subarea{opacity:1}.alarm .toggle-content{display:block}</style></head><body id=leoyuholo-timer><div id=now class=subarea>Now: <div class="now-text datetime">00:00:00</div></div><div id=timer class=main></div><div id=remarks class=subarea><div id=remarks-1></div><div id=remarks-2></div></div><div id=footer class=subarea><p>For a countdown timer, try:</p><ul><li><a href=#5>#5</a> to countdown 5 minutes</li><li><a href=#1h10m12s>#1h10m12s</a> to countdown 1 hour 10 minutes 12 seconds</li><li><a href=#515pm>#515pm</a> to countdown to 5:15pm</li><li><a href=#930am6Jul2015>#930am6Jul2015</a> to countdown to 9:30am 6 July, 2015</li><li>Or, <a href=#>#</a> for counting up</li></ul><p>About this timer:</p><ul><li>Fork me on <a target=_blank href=https://github.com/leoyuholo/timer>GitHub</a></li><li>Minimalistic design is inspired by <a target=_blank href=http://cd.justinjc.com/>cd.justinjs.com</a></li></ul></div></body><script src=http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js></script><script type=text/javascript>(function(){var b=this;var a=function(){};a.dayCount=86400000;a.hourCount=3600000;a.minuteCount=60000;a.secondCount=1000;a.dhmsRegex=/^(?:(\d+)d)?(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/i;a.isDhms=function(g){return a.dhmsRegex.test(g)};a.parseDhms=function(h){var g=a.dhmsRegex.exec(h);if(null===g){return null}else{return{day:g[1]?+g[1]:0,hour:g[2]?+g[2]:0,minute:g[3]?+g[3]:0,second:g[4]?+g[4]:0}}};var e={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dev:11};a.dtRegex=/^(10|11|12|[0-9])([0-5][0-9])?([0-5][0-9])?([ap]m)(?:(\d{1,2})(jan|january|feb|feb|february|mar|march|apr|april|may|jun|june|jul|july|aug|august|sep|september|oct|october|nov|november|dec|december)(\d{4})?)?$/i;a.isDt=function(p){var l=a.dtRegex.exec(p);if(null===l){return false}else{var g=new Date(),j=+l[1]+("pm"===l[4]?12:0),i=l[2]?+l[2]:0,h=l[3]?+l[3]:0,n=l[5]?+l[5]:g.getDate(),k=l[6]?e[l[6].substring(0,3).toLowerCase()]:g.getMonth(),m=l[7]?+l[7]:g.getFullYear(),o=new Date(m,k,n,j,i,h);if(!(o.getFullYear()===m&&o.getMonth()===k&&o.getDate())){return false}else{return true}}};a.parseDt=function(h){if(!a.isDt(h)){return null}else{var g=a.dtRegex.exec(h);return{hour:+g[1]+("pm"===g[4]?12:0),minute:g[2]?+g[2]:0,second:g[3]?+g[3]:0,day:g[5]?+g[5]:null,month:g[6]?e[g[6].substring(0,3).toLowerCase()]:null,year:g[7]?+g[7]:null}}};a.countRegex=/^(\d+)$/;a.isCount=function(g){return a.countRegex.test(g)};a.parseCount=function(h){var g=a.countRegex.exec(h);if(null===g){return null}else{return +g[1]}};a.isParsable=function(g){return a.isDhms(g)||a.isDt(g)||a.isCount(g)};a.makeDatetime=function(j){if(a.isCount(j)){return new Date(a.minuteCount*a.parseCount(j))}else{if(a.isDhms(j)){var h=a.parseDhms(j);return new Date(a.dayCount*h.day+a.hourCount*h.hour+a.minuteCount*h.minute+a.secondCount*h.second)}else{if(a.isDt(j)){var k=a.parseDt(j),i=new Date();if(!k.year){k.year=i.getFullYear()}if(!k.day){var g=new Date();g.setHours(k.hour);g.setMinutes(k.minute);g.setSeconds(k.second);k.day=g<i?i.getDate()+1:i.getDate();k.month=i.getMonth()}return new Date(k.year,k.month,k.day,k.hour,k.minute,k.second)}else{return null}}}};a.shortPurals=[["d","d"],["h","h"],["m","m"],["s","s"],["ms","ms"]];a.longPurals=[["day","days"],["hour","hours"],["minute","minutes"],["second","seconds"],["millisecond","milliseconds"]];var c={day:0,hour:1,minute:2,second:3,millisecond:4};a.displayString=function(l,g,j,i){l=Math.abs(l);g=g||"second";var h=[Math.floor(l/a.dayCount),Math.floor(l/a.hourCount)%24,Math.floor(l/a.minuteCount)%60,Math.floor(l/a.secondCount)%60,l%1000],j=j||a.longPurals,k=0;return h.map(function(n,m){if((i&&0===n)||(0===n&&0===k&&m<c[g])||m>c[g]){return false}else{k=m;return n+" "+(1===n?j[m][0]:j[m][1])}}).filter(function(m){return m}).join(" ")};a.shortDtFormat="HH:mm:ss";a.longDtFormat="dd/MM/yyyy HH:mm:ss";var f=function(g){return g<10?"0"+g:g};var d=function(h,g,i){i=i||function(j){return j};return function(j){return j.split(h).map(i).join(g)}};a.shortString=function(g,h){h=h||a.shortDtFormat;if("number"===typeof g){g=new Date(g)}return d("yyyy",g.getFullYear(),d("MM",f(g.getMonth()+1),d("dd",f(g.getDate()),d("HH",f(g.getHours()),d("mm",f(g.getMinutes()),d("ss",f(g.getSeconds())))))))(h)};b.Datetime=a}.call(this));</script> <script type=text/javascript>(function(){var a=this;var b=function(f){var e=f;e.now=Date.now();e.remain=e.end-e.now;e.elapsed=e.now-e.start;var d=function(g){g.call(null,f)};if(e.end<=e.now){e.ended=true;e.events.end.forEach(d);e.events.end=[]}e.events.update.forEach(d);e.timeout=setTimeout(function(){b(f)},e.frequency-(e.elapsed%e.frequency))};var c=function(d,i,h,g){var e={now:Date.now(),start:Date.now(),end:0,remain:0,elapsed:0,duration:0,ended:false,frequency:1000,events:{end:[],update:[]},timeout:""};e.end=d?d instanceof Date?d.getTime():"number"===typeof d?e.now+d:e.now+ +d:0;e.duration=0===e.end?0:e.end-e.start;if("function"===typeof i){e.events.end.push(i)}Array.prototype.slice.call(arguments,2).forEach(function(j){if("function"===typeof j){e.events.update.push(j)}});for(var f in e){this[f]=e[f]}b(this)};c.prototype.destroy=function(){var d=this;if(d.timeout){clearTimeout(d.timeout)}d.timeout=""};a.Timer=c}.call(this));</script><script type=text/javascript>(function(){var a=this;var b=function(){};b.getHash=function(){var c=window.location.hash;return c?c.slice(1):""};b.dtFormat=Datetime.shortDtFormat;b.purals=Datetime.longPurals;b.precision="second";b.displayString=function(d,c){return Datetime.displayString(d,b.precision,b.purals,c)};b.shortString=function(c){return Datetime.shortString(c,b.dtFormat)};b.updateFormat=function(){var c=false,f=false;var d=function(g){if(b.dtFormat!==g){f=true;b.dtFormat=g}};var e=function(g){if(b.purals!==g){c=true;b.purals=g}};if(b.timer&&b.timer.overDays){d(Datetime.longDtFormat)}else{d(Datetime.shortDtFormat)}if($(window).width()<=600){e(Datetime.shortPurals)}else{e(Datetime.longPurals)}if(c&&b.timer){b.updateElapsed(b.timer);b.updateRemain(b.timer);b.updateDuration(b.timer)}if(f&&b.timer){b.updateNow(b.timer);b.updateStart(b.timer);b.updateEnd(b.timer)}};b.updateTitle=function(c){document.title=$("#timer").text()};b.updateNow=function(c){$(".now-text").text(b.shortString(c.now))};b.updateElapsed=function(c){if(!c.overDays&&c.elapsed>=Datetime.dayCount){c.overDays=true;b.updateFormat(c)}$(".elapsed-text").text(b.displayString(c.elapsed));b.updateTitle(c)};b.updateRemain=function(c){$(".remain-text").text(b.displayString(c.remain));b.updateTitle(c)};b.updateStart=function(c){$(".start-text").text(b.shortString(c.start))};b.updateDuration=function(c){$(".duration-text").text(b.displayString(c.duration,true))};b.updateEnd=function(c){$(".end-text").text(b.shortString(c.end))};b.elapsedTextHtml='<div class="elapsed-text timer"></div>';b.remainTextHtml='<div class="remain-text timer"></div>';b.startTextHtml='<div class="start-text datetime"></div>';b.durationTextHtml='<div class="duration-text timer"></div>';b.endTextHtml='<div class="end-text datetime"></div>';b.countUp=function(){$("#timer").html(b.elapsedTextHtml+" elapsed");$("#remarks-1").html("started counting at "+b.startTextHtml);b.timer=new Timer(null,null,b.updateNow,b.updateElapsed);b.updateStart(b.timer)};b.countTo=function(d){$("#timer").html(b.remainTextHtml+" remains");$("#remarks-1").html("started waiting at "+b.startTextHtml+" for "+b.durationTextHtml+" until "+b.endTextHtml);var c=Datetime.makeDatetime(d);if(!Datetime.isDt(d)){c=c.getTime()}b.timer=new Timer(c,b.finishCountTo,b.updateNow,b.updateRemain);if(b.timer.duration>Datetime.dayCount){b.timer.overDays=true}b.updateFormat();b.updateStart(b.timer);b.updateDuration(b.timer);b.updateEnd(b.timer)};b.hashError=function(c){$("#timer").html('<div class="error">Ooops! <div class="hash">'+c+"</div> looks unfamiliar! :(</div>");b.timer=new Timer(null,null,b.updateNow)};b.finishCountTo=function(c){$("#timer").html(b.durationTextHtml+" passed");$("#remarks-2").html("You are now "+b.remainTextHtml+" late.");b.updateDuration(c);b.updateRemain(c);$("body").addClass("alarm")};b.clearAll=function(){$("#timer").html("");$("#remarks-1").html("");$("#remarks-2").html("");b.updateFormat();$("body").removeClass("alarm");document.title="Timer"};b.dispatch=function(c){if(b.timer){b.timer.destroy()}b.clearAll();if(!c){b.countUp()}else{if(Datetime.isParsable(c)){b.countTo(c)}else{b.hashError(c)}}};b.main=function(){window.onhashchange=function(){b.dispatch(b.getHash())};var c=$(window).width();$(window).resize(function(){var d=$(window).width();if((c>600&&d<=600)||(c<=600&&d>600)){c=d;b.updateFormat()}});window.onbeforeunload=function(){if(b.timer&&b.timer.end&&!b.timer.ended){return $("#timer").text()}else{return}};b.dispatch(b.getHash())};a.app=b}.call(this));</script> <script type=text/javascript>app.main();</script></html>
